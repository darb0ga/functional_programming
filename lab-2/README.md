# Лабораторная работа №2  
**Выполнила:** Борисова Дарья, Р3331  
**Преподаватель:** Пенской Александр Владимирович  
**Язык:** Clojure  
**Вариант:** bt-bag

---

## Ключевые элементы реализации
- Дерево представлено типом `Node` с ключом, счётчиком элементов и ссылками на поддеревья.  
- Все функции реализованы в функциональном стиле без мутаций.  
- Основные операции:
  - `bag-insert`, `bag-remove` - рекурсивные вставка и удаление;
  - `bag-filter` - создание нового дерева, удовлетворяющего предикату;
  - `bag-map` - применение функции к каждому элементу;
  - `bag-foldl`, `bag-foldr` - свёртки влево и вправо;
  - `bag-concat` -  объединение двух мультимножеств;
  - `bag-empty` - пустое множество.  
- Сравнение `bag-equal?` реализовано через рекурсивный обход деревьев, без промежуточных структур.

---

## Тестирование с использованием двух подходов:

**1. Unit testing**
- Проверяются базовые операции: вставка, удаление, фильтрация, отображение, свёртки, равенство.  

**2. Property-based testing**
- Проверяются ключевые свойства:
  - Идемпотентность и корректность вставки/удаления;  
  - Свойства моноида - ассоциативность и сложение с нейтральным элементом  
  - Сохранение размера при `bag-map`;  
  - Симметричность `bag-equal?`.  


## Выводы
В ходе лабораторной работы реализована функциональная, иммутабельная структура данных bt-bag с поддержкой операций фильтрации, отображения, свёртки и свойств моноида. Так же написаны unit и property-based тесты, проверяющие свойсва структуры данных.